
import mongoose from 'mongoose';
import dotenv from 'dotenv';
import Product from './dao/models/productsModel.js';
import { config } from './config/config.js';

const MONGO_URI = config.MONGO_URL

const products = [{ 'title': 'Doohickey 22', 'price': 88.28, 'category': 'Books', 'stock': 45 }, { 'title': 'Contraption 45', 'price': 353.07, 'category': 'Books', 'stock': 5 }, { 'title': 'Thingamajig 41', 'price': 619.84, 'category': 'Toys', 'stock': 27 }, { 'title': 'Contraption 34', 'price': 507.04, 'category': 'Electronics', 'stock': 8 }, { 'title': 'Thingamajig 48', 'price': 492.28, 'category': 'Electronics', 'stock': 10 }, { 'title': 'Contraption 69', 'price': 758.48, 'category': 'Sports', 'stock': 2 }, { 'title': 'Device 89', 'price': 878.58, 'category': 'Electronics', 'stock': 34 }, { 'title': 'Doohickey 38', 'price': 676.34, 'category': 'Toys', 'stock': 15 }, { 'title': 'Device 38', 'price': 364.27, 'category': 'Electronics', 'stock': 49 }, { 'title': 'Thingamajig 53', 'price': 174.37, 'category': 'Sports', 'stock': 26 }, { 'title': 'Doohickey 60', 'price': 915.41, 'category': 'Toys', 'stock': 20 }, { 'title': 'Thingamajig 36', 'price': 732.27, 'category': 'Beauty', 'stock': 21 }, { 'title': 'Doodad 49', 'price': 252.07, 'category': 'Electronics', 'stock': 11 }, { 'title': 'Widget 64', 'price': 22.51, 'category': 'Books', 'stock': 36 }, { 'title': 'Doohickey 48', 'price': 222.6, 'category': 'Toys', 'stock': 34 }, { 'title': 'Gadget 84', 'price': 946.18, 'category': 'Electronics', 'stock': 15 }, { 'title': 'Contraption 3', 'price': 211.18, 'category': 'Sports', 'stock': 42 }, { 'title': 'Gadget 88', 'price': 564.6, 'category': 'Electronics', 'stock': 39 }, { 'title': 'Widget 41', 'price': 347.44, 'category': 'Beauty', 'stock': 14 }, { 'title': 'Widget 76', 'price': 374.16, 'category': 'Sports', 'stock': 18 }, { 'title': 'Doohickey 76', 'price': 909.52, 'category': 'Books', 'stock': 19 }, { 'title': 'Thingamajig 48', 'price': 362.57, 'category': 'Beauty', 'stock': 4 }, { 'title': 'Gadget 11', 'price': 529.2, 'category': 'Beauty', 'stock': 7 }, { 'title': 'Widget 46', 'price': 162.05, 'category': 'Toys', 'stock': 1 }, { 'title': 'Contraption 99', 'price': 516.95, 'category': 'Books', 'stock': 15 }, { 'title': 'Doodad 93', 'price': 236.5, 'category': 'Sports', 'stock': 28 }, { 'title': 'Gadget 61', 'price': 735.91, 'category': 'Sports', 'stock': 42 }, { 'title': 'Thingamajig 53', 'price': 258.61, 'category': 'Furniture', 'stock': 39 }, { 'title': 'Device 2', 'price': 154.61, 'category': 'Sports', 'stock': 1 }, { 'title': 'Doohickey 90', 'price': 525.46, 'category': 'Beauty', 'stock': 37 }, { 'title': 'Doodad 78', 'price': 963.23, 'category': 'Electronics', 'stock': 43 }, { 'title': 'Doodad 67', 'price': 640.46, 'category': 'Beauty', 'stock': 20 }, { 'title': 'Gadget 19', 'price': 869.87, 'category': 'Books', 'stock': 43 }, { 'title': 'Doodad 25', 'price': 735.26, 'category': 'Sports', 'stock': 27 }, { 'title': 'Widget 93', 'price': 802.75, 'category': 'Books', 'stock': 45 }, { 'title': 'Contraption 68', 'price': 647.0, 'category': 'Beauty', 'stock': 16 }, { 'title': 'Doohickey 20', 'price': 486.69, 'category': 'Sports', 'stock': 7 }, { 'title': 'Gadget 40', 'price': 328.73, 'category': 'Clothing', 'stock': 43 }, { 'title': 'Thingamajig 27', 'price': 191.88, 'category': 'Clothing', 'stock': 40 }, { 'title': 'Widget 46', 'price': 745.73, 'category': 'Sports', 'stock': 38 }, { 'title': 'Doodad 85', 'price': 522.72, 'category': 'Books', 'stock': 50 }, { 'title': 'Widget 21', 'price': 28.4, 'category': 'Clothing', 'stock': 41 }, { 'title': 'Device 20', 'price': 971.3, 'category': 'Books', 'stock': 17 }, { 'title': 'Doodad 8', 'price': 822.47, 'category': 'Furniture', 'stock': 24 }, { 'title': 'Doodad 84', 'price': 675.96, 'category': 'Beauty', 'stock': 4 }, { 'title': 'Doodad 67', 'price': 829.26, 'category': 'Toys', 'stock': 29 }, { 'title': 'Thingamajig 23', 'price': 455.53, 'category': 'Electronics', 'stock': 14 }, { 'title': 'Doodad 96', 'price': 66.0, 'category': 'Clothing', 'stock': 5 }, { 'title': 'Thingamajig 63', 'price': 559.06, 'category': 'Toys', 'stock': 16 }, { 'title': 'Doodad 90', 'price': 927.61, 'category': 'Toys', 'stock': 37 }, { 'title': 'Contraption 67', 'price': 955.94, 'category': 'Clothing', 'stock': 18 }, { 'title': 'Doodad 19', 'price': 502.5, 'category': 'Beauty', 'stock': 24 }, { 'title': 'Thingamajig 77', 'price': 795.31, 'category': 'Toys', 'stock': 21 }, { 'title': 'Doodad 33', 'price': 270.15, 'category': 'Furniture', 'stock': 14 }, { 'title': 'Contraption 81', 'price': 875.55, 'category': 'Toys', 'stock': 43 }, { 'title': 'Device 67', 'price': 542.66, 'category': 'Furniture', 'stock': 30 }, { 'title': 'Thingamajig 12', 'price': 780.98, 'category': 'Furniture', 'stock': 49 }, { 'title': 'Widget 10', 'price': 923.25, 'category': 'Sports', 'stock': 38 }, { 'title': 'Device 33', 'price': 595.03, 'category': 'Clothing', 'stock': 15 }, { 'title': 'Gadget 3', 'price': 858.79, 'category': 'Beauty', 'stock': 11 }, { 'title': 'Device 4', 'price': 166.96, 'category': 'Sports', 'stock': 2 }, { 'title': 'Thingamajig 79', 'price': 953.17, 'category': 'Clothing', 'stock': 2 }, { 'title': 'Thingamajig 8', 'price': 482.42, 'category': 'Toys', 'stock': 43 }, { 'title': 'Widget 16', 'price': 378.44, 'category': 'Beauty', 'stock': 38 }, { 'title': 'Device 75', 'price': 51.09, 'category': 'Clothing', 'stock': 34 }, { 'title': 'Doohickey 79', 'price': 537.06, 'category': 'Toys', 'stock': 39 }, { 'title': 'Doohickey 8', 'price': 681.08, 'category': 'Electronics', 'stock': 38 }, { 'title': 'Device 58', 'price': 634.56, 'category': 'Electronics', 'stock': 46 }, { 'title': 'Gadget 55', 'price': 346.43, 'category': 'Beauty', 'stock': 50 }, { 'title': 'Contraption 15', 'price': 668.07, 'category': 'Electronics', 'stock': 34 }, { 'title': 'Contraption 49', 'price': 715.42, 'category': 'Toys', 'stock': 34 }, { 'title': 'Widget 28', 'price': 601.71, 'category': 'Clothing', 'stock': 18 }, { 'title': 'Widget 6', 'price': 98.42, 'category': 'Beauty', 'stock': 20 }, { 'title': 'Widget 67', 'price': 52.61, 'category': 'Toys', 'stock': 1 }, { 'title': 'Device 63', 'price': 886.67, 'category': 'Sports', 'stock': 40 }, { 'title': 'Contraption 47', 'price': 964.97, 'category': 'Clothing', 'stock': 28 }, { 'title': 'Thingamajig 29', 'price': 594.44, 'category': 'Toys', 'stock': 35 }, { 'title': 'Contraption 54', 'price': 268.36, 'category': 'Sports', 'stock': 22 }, { 'title': 'Device 32', 'price': 288.94, 'category': 'Sports', 'stock': 39 }, { 'title': 'Widget 23', 'price': 716.14, 'category': 'Furniture', 'stock': 25 }];

const seedDatabase = async () => {
    try {
        await mongoose.connect(MONGO_URI, {
            useNewUrlParser: true,
            useUnifiedTopology: true,
        });

        await Product.deleteMany({});
        console.log('ColecciÃ³n eliminada!');

        await Product.insertMany(products.map(p => ({ ...p, _id: undefined })));
        console.log('Productos agregados correctamente!');

        mongoose.disconnect();
    } catch (error) {
        console.error('Error agregando DB:', error);
        process.exit(1);
    }
};

seedDatabase();
